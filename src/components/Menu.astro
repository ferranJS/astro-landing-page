---
import Xbutton from "./Xbutton.astro"
import { getLangFromUrl, useTranslations } from "../i18n/utils"
import { languages } from "../i18n/languages"

const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)
---

<div
  id="backdrop"
  class="absolute bottom-0 left-0 right-0 top-0 z-40 hidden backdrop-blur-sm"
  onclick="closeSideMenu()"
>
</div>
<aside
  id="menu"
  class="fixed -right-80 bottom-0 top-0 z-50 h-screen w-80 overflow-hidden bg-white text-sm font-medium text-zinc-700 transition duration-300"
>
  <div class="w-80 px-8 py-5 text-end">
    <Xbutton Class="w-6" />
  </div>
  <div
    class="flex h-[calc(100vh-80px)] w-full flex-col items-start justify-start gap-2 overflow-auto pb-10 pl-14 pr-8 [&>a]:w-full [&>a]:rounded-md [&>a]:px-3 [&>a]:py-1.5 [&>a]:transition [&>a]:duration-300"
  >
    <a class="hover:bg-zinc-700/10 xl:hidden" href="https://github.com/ferranJS">{t("Model 3")}</a>
    <a class="hover:bg-zinc-700/10 xl:hidden" href="https://twitter.com/ferran_dev">{t("Model X")}</a>
    <a class="hover:bg-zinc-700/10 xl:hidden" href="https://www.linkedin.com/in/ferran-ramirez/"
      >{t("Model Y")}</a
    >
    <a class="hover:bg-zinc-700/10 xl:hidden" href="https://twitter.com/ferran_dev">{t("Solar Panels")}</a>
    <a class="hover:bg-zinc-700/10 xl:hidden" href="https://twitter.com/ferran_dev">{t("Powerwall")}</a>
    <a class="hover:bg-zinc-700/10" href="https://twitter.com/ferran_dev">{t("Existing Inventory")}</a>
    <a class="hover:bg-zinc-700/10" href="https://github.com/ferranJS/astro-tailwind-landing-0"
      >{t("Used Inventory")}</a
    >
    <a class="hover:bg-zinc-700/10" href="https://www.linkedin.com/in/ferran-ramirez/">{t("Trade-In")}</a>
    <a class="hover:bg-zinc-700/10" href="https://github.com/ferranJS">{t("Demo Drive")}</a>
    <a class="hover:bg-zinc-700/10" href="https://twitter.com/ferran_dev">{t("Insurance")}</a>
    <a class="hover:bg-zinc-700/10" href="https://github.com/ferranJS">{t("Fleet")}</a>
    <a class="hover:bg-zinc-700/10" href="https://www.linkedin.com/in/ferran-ramirez/"
      >{t("Commercial Energy")}</a
    >
    <a class="hover:bg-zinc-700/10" href="https://github.com/ferranJS/astro-tailwind-landing-0"
      >{t("Utilities")}</a
    >
    <a class="hover:bg-zinc-700/10" href="https://twitter.com/ferran_dev">{t("Charging")}</a>
    <a class="hover:bg-zinc-700/10" href="https://www.linkedin.com/in/ferran-ramirez/">{t("Careers")}</a>
    <a class="hover:bg-zinc-700/10" href="https://github.com/ferranJS">{t("Find Us")}</a>
    <a class="hover:bg-zinc-700/10" href="https://twitter.com/ferran_dev">{t("Events")}</a>
    <a class="hover:bg-zinc-700/10" href="https://github.com/ferranJS">{t("Support")}</a>
    <a class="hover:bg-zinc-700/10" href="https://www.linkedin.com/in/ferran-ramirez/"
      >{t("Investor Relations")}</a
    >
    <a class="hover:bg-zinc-700/10" href="https://twitter.com/ferran_dev">{t("Shop")}</a>
    <a class="hover:bg-zinc-700/10" href="https://github.com/ferranJS">{t("Account")}</a>
    <a class="hover:bg-zinc-700/10" href="https://twitter.com/ferran_dev">{t("More")}</a>
    <a class="flex gap-2 hover:bg-zinc-700/10" href="https://github.com/ferranJS/astro-tailwind-landing-0">
      <img class="h-6 w-5" src="globe.svg" alt="globe icon" loading="lazy" />
      <div>
        <p>{t("United States")}</p>
        <p class="text-xs text-zinc-500">{languages[lang]}</p>
      </div>
    </a>
  </div>
</aside>
